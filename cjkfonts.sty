% cjkfonts.sty
%
% A XeLaTeX package for typesetting CJK documents.
%
% Author: Freeman Zhang <zhanggyb@gmail.com>
% Version: 0.1
% Homepage: https://github.com/zhanggyb/cjkfonts
%
% Options:
%	path: The path where can find cjkfonts font files.
%	mdseries: choose one of Thin, Light, DemiLight, Regular, Medium, Bold, Black for text with medium weight.
%	bfseries: choose one of Thin, Light, DemiLight, Regular, Medium, Bold, Black for text with bold face.
% 	default: boolean option, cjkfonts is set as the default font family and as the sans serif family for CJK text.

% Identification
% ==============

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{cjkfonts}[2015/12/12 A simple XeLaTeX package to set CJK fonts]


% Required Packages
% =================

\RequirePackage{ifthen}
\RequirePackage{xeCJKfntef} % sierxue把xeCJK换成了xeCJKfntef。

% Set key-value options
\RequirePackage{kvoptions}
\DeclareStringOption[fonts/]{path}[fonts/]
\DeclareStringOption[Regular]{mdseries}[Regular]
\DeclareStringOption[Bold]{bfseries}[Bold]
\DeclareBoolOption[false]{default}
\ProcessKeyvalOptions*


%% Configuration for fonts
%% =======================

\newCJKfontfamily[NotoSansSC]\NotoSansSC[
  Extension=.otf,
  Path=\cjkfonts@path/,
  UprightFont=NotoSansCJKsc-\cjkfonts@mdseries,
  BoldFont=NotoSansCJKsc-\cjkfonts@bfseries,
  ItalicFont=NotoSansCJKsc-\cjkfonts@mdseries,
  BoldItalicFont=NotoSansCJKsc-\cjkfonts@bfseries,
  ItalicFeatures=FakeSlant,
  BoldItalicFeatures=FakeSlant]{NotoSansSC}

\newCJKfontfamily[NotoSansMonoSC]\NotoSansMonoSC[
  Extension=.otf,
  Path=\cjkfonts@path/,
  UprightFont=NotoSansMonoCJKsc-Regular,
  BoldFont=NotoSansMonoCJKsc-Bold,
  ItalicFont=NotoSansMonoCJKsc-Regular,
  BoldItalicFont=NotoSansMonoCJKsc-Bold,
  ItalicFeatures=FakeSlant,
  BoldItalicFeatures=FakeSlant]{NotoSansMonoSC}

\newCJKfontfamily[NotoSansSCThin]\NotoSansSCThin[
  Extension=.otf,
  Path=\cjkfonts@path/,
  UprightFont=NotoSansCJKsc-Thin,
  AutoFakeSlant=true]{NotoSansSC}

\newCJKfontfamily[NotoSansSCLight]\NotoSansSCLight[
  Extension=.otf,
  Path=\cjkfonts@path/,
  UprightFont=NotoSansCJKsc-Light,
  AutoFakeSlant=true]{NotoSansSC}

\newCJKfontfamily[NotoSansSCDemiLight]\NotoSansSCDemiLight[
  Extension=.otf,
  Path=\cjkfonts@path/,
  UprightFont=NotoSansCJKsc-DemiLight,
  AutoFakeSlant=true]{NotoSansSC}

\newCJKfontfamily[NotoSansSCRegular]\NotoSansSCRegular[
  Extension=.otf,
  Path=\cjkfonts@path/,
  UprightFont=NotoSansCJKsc-Regular,
  AutoFakeSlant=true]{NotoSansSC}

\newCJKfontfamily[NotoSansSCMedium]\NotoSansSCMedium[
  Extension=.otf,
  Path=\cjkfonts@path/,
  UprightFont=NotoSansCJKsc-Medium,
  AutoFakeSlant=true]{NotoSansSC}

\newCJKfontfamily[NotoSansSCBold]\NotoSansSCBold[
  Extension=.otf,
  Path=\cjkfonts@path/,
  UprightFont=NotoSansCJKsc-Bold,
  AutoFakeSlant=true]{NotoSansSC}

\newCJKfontfamily[NotoSansSCBlack]\NotoSansSCBlack[
  Extension=.otf,
  Path=\cjkfonts@path/,
  UprightFont=NotoSansCJKsc-Black,
  AutoFakeSlant=true]{NotoSansSC}

\newCJKfontfamily[NotoSansMonoSCRegular]\NotoSansMonoSCRegular[
  Extension=.otf,
  Path=\cjkfonts@path/,
  UprightFont=NotoSansMonoCJKsc-Regular,
  AutoFakeSlant=true]{NotoSansMonoSCRegular}

\newCJKfontfamily[NotoSansMonoSCBold]\NotoSansMonoSCBold[
  Extension=.otf,
  Path=\cjkfonts@path/,
  UprightFont=NotoSansMonoCJKsc-Bold,
  AutoFakeSlant=true]{NotoSansMonoSCBold}

\newCJKfontfamily[NotoSerifSC]\NotoSerifSC[
  Extension=.otf,
  Path=\cjkfonts@path/,
  UprightFont=NotoSerifCJKsc-\cjkfonts@mdseries,
  BoldFont=NotoSerifCJKsc-\cjkfonts@bfseries,
  ItalicFont=NotoSerifCJKsc-\cjkfonts@mdseries,
  BoldItalicFont=NotoSerifCJKsc-\cjkfonts@bfseries,
  ItalicFeatures=FakeSlant,
  BoldItalicFeatures=FakeSlant]{NotoSerifSC}

\newCJKfontfamily[NotoSerifSCThin]\NotoSerifSCThin[
  Extension=.otf,
  Path=\cjkfonts@path/,
  UprightFont=NotoSerifCJKsc-Thin,
  AutoFakeSlant=true]{NotoSerifSC}

\newCJKfontfamily[NotoSerifSCLight]\NotoSerifSCLight[
  Extension=.otf,
  Path=\cjkfonts@path/,
  UprightFont=NotoSerifCJKsc-Light,
  AutoFakeSlant=true]{NotoSerifSC}

\newCJKfontfamily[NotoSerifSCDemiLight]\NotoSerifSCDemiLight[
  Extension=.otf,
  Path=\cjkfonts@path/,
  UprightFont=NotoSerifCJKsc-DemiLight,
  AutoFakeSlant=true]{NotoSerifSC}

\newCJKfontfamily[NotoSerifSCRegular]\NotoSerifSCRegular[
  Extension=.otf,
  Path=\cjkfonts@path/,
  UprightFont=NotoSerifCJKsc-Regular,
  AutoFakeSlant=true]{NotoSerifSC}

\newCJKfontfamily[NotoSerifSCMedium]\NotoSerifSCMedium[
  Extension=.otf,
  Path=\cjkfonts@path/,
  UprightFont=NotoSerifCJKsc-Medium,
  AutoFakeSlant=true]{NotoSerifSC}

\newCJKfontfamily[NotoSerifSCBold]\NotoSerifSCBold[
  Extension=.otf,
  Path=\cjkfonts@path/,
  UprightFont=NotoSerifCJKsc-Bold,
  AutoFakeSlant=true]{NotoSerifSC}

\newCJKfontfamily[NotoSerifSCBlack]\NotoSerifSCBlack[
  Extension=.otf,
  Path=\cjkfonts@path/,
  UprightFont=NotoSerifCJKsc-Black,
  AutoFakeSlant=true]{NotoSerifSC}

\ifthenelse{\boolean{cjkfonts@default}}{

  \setCJKmainfont[Extension=.otf,
    Path=\cjkfonts@path/,
    UprightFont=NotoSerifCJKsc-\cjkfonts@mdseries,
    BoldFont=NotoSerifCJKsc-\cjkfonts@bfseries,
    ItalicFont=NotoSerifCJKsc-\cjkfonts@mdseries,
    BoldItalicFont=NotoSerifCJKsc-\cjkfonts@bfseries,
    ItalicFeatures=FakeSlant,
    BoldItalicFeatures=FakeSlant]{NotoSerifSC}

  \setCJKsansfont[
    Extension=.otf,
    Path=\cjkfonts@path/,
    UprightFont=NotoSansCJKsc-\cjkfonts@mdseries,
    BoldFont=NotoSansCJKsc-\cjkfonts@bfseries,
    ItalicFont=NotoSansCJKsc-\cjkfonts@mdseries,
    BoldItalicFont=NotoSansCJKsc-\cjkfonts@bfseries,
    ItalicFeatures=FakeSlant,
    BoldItalicFeatures=FakeSlant]{NotoSansSC}

  \setCJKmonofont[
    Extension=.otf,
    Path=\cjkfonts@path/,
    UprightFont=NotoSansMonoCJKsc-Regular,
    BoldFont=NotoSansMonoCJKsc-Bold,
    ItalicFont=NotoSansMonoCJKsc-Regular,
    BoldItalicFont=NotoSansMonoCJKsc-Bold,
    ItalicFeatures=FakeSlant,
    BoldItalicFeatures=FakeSlant]{NotoSansMonoSC}

}{}

% sierxue 添加以下内容
%-----------------------xeCJK下设置中文字体------------------------------%
\setCJKfamilyfont{song}{SimSun}                             %宋体 song
\newcommand{\song}{\CJKfamily{song}}
\setCJKfamilyfont{fs}{SimFang}                      %仿宋 fs
\newcommand{\fs}{\CJKfamily{fs}}
\setCJKfamilyfont{yh}{Microsoft YaHei}                    %微软雅黑 yh
\newcommand{\yh}{\CJKfamily{yh}}
\setCJKfamilyfont{hei}{SimHei}                              %黑体  hei
\newcommand{\hei}{\CJKfamily{hei}}
\setCJKfamilyfont{hwxh}{STXihei}                                %华文细黑  hwxh
\newcommand{\hwxh}{\CJKfamily{hwxh}}
\setCJKfamilyfont{asong}{Adobe Song Std}                        %Adobe 宋体  asong
\newcommand{\asong}{\CJKfamily{asong}}
\setCJKfamilyfont{ahei}{Adobe Heiti Std}                            %Adobe 黑体  ahei
\newcommand{\ahei}{\CJKfamily{ahei}}
\setCJKfamilyfont{akai}{Adobe Kaiti Std}                            %Adobe 楷体  akai
\newcommand{\akai}{\CJKfamily{akai}}

% \setCJKmainfont[ItalicFont={楷体}, BoldFont={黑体}]{宋体}%衬线字体 缺省中文字体为
% \setCJKsansfont{黑体}
% \setCJKmonofont{仿宋}%中文等宽字体

%% This must be the last command
\endinput
